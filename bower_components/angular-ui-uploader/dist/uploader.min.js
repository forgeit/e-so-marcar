/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.3.0 - 2016-11-10T00:39:35.417Z
 * License: MIT
 */
!function(){"use strict";function o(o){function n(o){for(var n=0;n<o.length;n++)r.files.push(o[n])}function e(){return r.files}function i(o){r.options=o;for(var n=o.headers||{},e=0;e<r.files.length&&r.activeUploads!=r.options.concurrency;e++)r.files[e].active||a(r.files[e],r.options.url,r.options.data,n)}function t(o){r.files.splice(r.files.indexOf(o),1)}function s(){r.files.splice(0,r.files.length)}function l(o){var n=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],e=0===o?0:+Math.floor(Math.log(o)/Math.log(1024));return(o/Math.pow(1024,e)).toFixed(e?1:0)+" "+n[isNaN(o)?0:e+1]}function a(o,n,e,t){var s,a,p,u="file";if(e=e||{},r.activeUploads+=1,o.active=!0,s=new window.XMLHttpRequest,e.withCredentials===!0&&(s.withCredentials=!0),a=new window.FormData,s.open("POST",n),t)for(var d in t)t.hasOwnProperty(d)&&s.setRequestHeader(d,t[d]);if(s.upload.onloadstart=function(){},s.upload.onprogress=function(n){n.lengthComputable&&(o.loaded=n.loaded,o.humanSize=l(n.loaded),angular.isFunction(r.options.onProgress)&&r.options.onProgress(o))},s.upload.onload=function(){angular.isFunction(r.options.onUploadSuccess)&&r.options.onUploadSuccess(o)},s.upload.onerror=function(o){angular.isFunction(r.options.onError)&&r.options.onError(o)},s.onload=function(){r.activeUploads-=1,r.uploadedFiles+=1,i(r.options),angular.isFunction(r.options.onCompleted)&&r.options.onCompleted(o,s.responseText,s.status),0===r.activeUploads&&(r.uploadedFiles=0,angular.isFunction(r.options.onCompletedAll)&&r.options.onCompletedAll(r.files))},e)for(p in e)e.hasOwnProperty(p)&&a.append(p,e[p]);return a.append(u,o,o.name),s.send(a),s}var r=this;return r.files=[],r.options={},r.activeUploads=0,r.uploadedFiles=0,o.info("uiUploader loaded"),{addFiles:n,getFiles:e,files:r.files,startUpload:i,removeFile:t,removeAll:s}}angular.module("ui.uploader",[]).service("uiUploader",o),o.$inject=["$log"]}();